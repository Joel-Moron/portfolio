---
let listUrl : string[] = [
    'https://i.ibb.co/f29fg7t/Certificate.jpg',
    'https://i.ibb.co/hDSWMy9/Introduction-to-Data-Science-Badge20231022-31-jk6i0s.jpg',
    'https://i.ibb.co/wLYxvLW/ciber-seguridad.jpg',
    'https://i.ibb.co/qpf1Msj/get-connected.jpg',
    'https://i.ibb.co/9YX28y0/internet-del-todo.jpg',
    'https://i.ibb.co/7vG42KY/phyton.jpg'
]
---

<section id="certificados" class="max-w-[calc(990px+4rem)] w-full flex flex-col p-8 justify-center items-center pt-24">
    <div class="carrusel flex flex-1 justify-center items-center gap-3" >
        <button id="button-prev" class="text-white text-xl">&lt;</button>
        <div class="relative min-w-[250px] min-h-[150px] sm:w-[600px] sm:h-[360px] md:w-[700px] md:h-[450px] lg:w-[800px] lg:h-[550px] overflow-hidden">
            {
                listUrl.map(image => {
                    return <img class="w-full h-full absolute left-0 top-0 content-right px-2" src={image} alt="image1">
                })
            }
        </div>
        <button id="button-next" class="text-white text-xl">&gt;</button>
    </div>
    <div class="ntp w-full flex justify-center gap-3 p-3">
        {
            listUrl.map((image, index) => {
                return(
                    <button class="h-4 w-6 p-0 bg-[#1a346c] rounded-md"></button>
                )
            })
        }
    </div>
</section>

<style>

    .content-right{
        transform: translateX(100%);
        transition: transform 1s ease-in-out;
    }

    .content-center{
        transform: translateX(0%);
    }
    
    .content-left{
        transform: translateX(-100%);
    }
</style>

<script>
    let currentImage = 0;
    const buttonPrev : any = document.getElementById("button-prev");
    const buttonNex : any = document.getElementById("button-next");
    const listButton = document.querySelectorAll(".ntp button");

    function updateCarousel() {
        const images = document.querySelectorAll('.carrusel img');
        images.forEach((image, index) => {
            image.classList.remove('content-left', 'content-center');
            //console.log(index, currentImage)
            if (index === currentImage) {
                image.classList.add('content-center');
            } else if (index < currentImage) {
                image.classList.add('content-left');
            }
        });
    }

    
    function prevImage() {
        console.log('prevImage');
        if (currentImage > 0) {
            currentImage--;
        } else {
            currentImage = 6 - 1;
        }
        updateCarousel();
    }
    
    
    function nextImage() {
        console.log('nextImage');
        if (currentImage < 6 - 1) {
            currentImage++;
        } else {
            currentImage = 0;
        }
        updateCarousel();
    }

    listButton.forEach((item, index) => {
        item.addEventListener("click", function() {
            currentImage = index;
            updateCarousel()
        })
    });

    buttonPrev.addEventListener("click", function() {prevImage()});

    buttonNex.addEventListener("click", function() {nextImage()});
    
    updateCarousel()

</script>